{"version":3,"sources":["app.js"],"names":["pagina","cita","nombre","fecha","hora","servicios","iniciarApp","mostrarServicios","tamañoPagina","mostrarSeccion","cambiarSeccion","paginaSig","paginaAnt","Ocultar","mostrarResumen","nombreCita","fechaCita","horaCita","nombreInpunt","document","querySelector","addEventListener","e","mostrarAlerta","nombreTexto","target","value","trim","length","fechaDate","borrarMensaje","hoy","Date","getFullYear","getMonth","getDate","horaDate","horario","a","tipo","dato","alerta","createElement","textContent","classList","add","appendChild","alertaP","remove","resumenDiv","console","log","firstChild","removeChild","Object","values","includes","noServicio","innerHTML","forEach","servicio","textoServicio","funMostrar","querySelectorAll","enlace","preventDefault","parseInt","dataset","paso","tab","paginaSiguiente","paginaAnterior","async","resultado","fetch","db","json","id","precio","nombreServicio","precioServicio","servicioDiv","onclick","seleccionarServicio","error","elemento","tagName","parentElement","contains","eliminarServicio","agrerarServicio","valor","filter","servicioObj","firstElementChild","nextElementSibling","window","screen","width"],"mappings":"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","file":"bundle.js","sourcesContent":["// alert('Listo');\n \nlet pagina = 1;\n\nconst cita = {\n\tnombre: '',\n\tfecha: '',\n\thora: '',\n\tservicios: []\n}\n\ndocument.addEventListener('DOMContentLoaded', function(){\n\tiniciarApp();\n});\n\nfunction iniciarApp() {\n\tmostrarServicios();\n\n\t// Cambio de tamaño de la pagina\n\ttamañoPagina();\n\n\t// Resalta el Div actual segun el tab que se preciones\n\tmostrarSeccion();\n\n\t// Oculta el una seccion el tab que se precione\n\tcambiarSeccion();\n\n\t// Paginacion siguiente, anterior\n\tpaginaSig();\n\tpaginaAnt();\n\tOcultar();\n\n\t// Muestra el resumen de la cita (o mensaje de error)\n\tmostrarResumen();\n\n\t// Reconocer los datos de la cita escritos\n\tnombreCita();\n\tfechaCita();\n\thoraCita();\n}\n\nfunction nombreCita() {\n\tconst nombreInpunt = document.querySelector('#nombre');\n\n\t// Quitar el mensaje cuando se escribe en la pagina\n\tnombreInpunt.addEventListener('input', e => {\n\t\t// Quitar el mensaje\n\t\tmostrarAlerta('', 'retirar', 'Pnombre');\n\t});\n\n\tnombreInpunt.addEventListener('change', e => {\n\t\tconst nombreTexto = e.target.value.trim();\n\n\t\t// VALIDACION DE QUE NOMBRETEXTO DEBE TENER\n\t\tif (nombreTexto === '' || nombreTexto.length < 5) {\n\t\t\tmostrarAlerta('Nombre no valido', 'error', 'Pnombre');\n\t\t}\n\t\telse {\n\t\t\tcita.nombre = nombreTexto;\n\t\t\t// console.log(cita.nombre);\n\t\t}\n\t});\n}\n\nfunction fechaCita() {\n\tconst fechaInpunt = document.querySelector('#fecha');\n\t\n\tfechaInpunt.addEventListener('change', e => {\n\t\t\n\t\tconst fechaDate = e.target.value;\n\t\t\n\t\tborrarMensaje('Pdate');\n\n\t\tconst hoy = new Date();\n\t\tlet fecha = `${hoy.getFullYear()}-`;\n\t\t\n\t\tif (hoy.getMonth()+1<10) {\n\t\t\tfecha = fecha + '0';\n\t\t}\n\t\t\n\t\tfecha = fecha + `${hoy.getMonth()+1}-`;\n\n\t\tif (hoy.getDate()<10) {\n\t\t\tfecha = fecha + '0';\n\t\t}\n\t\t\n\t\tfecha = fecha + `${hoy.getDate()}`;\n\t\t// console.log(fecha);\n\n\t\tif (fecha >= fechaDate) {\n\t\t\tmostrarAlerta('La fecha ya vencio', 'error', 'Pdate');\n\t\t} else {\n\t\t\tcita.fecha = fechaDate\n\t\t\t// console.log(cita.fecha);\n\t\t}\n\t});\n}\n\nfunction horaCita() {\n\tconst horaInpunt = document.querySelector('#Hora');\n\t\n\thoraInpunt.addEventListener('change', e => {\n\t\t\n\t\tconst horaDate = e.target.value;\n\t\t// console.log(horaDate);\n\t\tborrarMensaje('Phora');\n\n\t\tif (horario(horaDate)) {\n\t\t\tmostrarAlerta('Hora no valida', 'error', 'Phora');\n\t\t}\n\t\telse {\n\t\t\tcita.hora = horaDate;\n\t\t\t// console.log(cita.hora);\n\t\t}\n\t});\n}\n\nfunction horario(horaDate) {\n\tif (horaDate > '19:30'){\n\t\t// console.log('1');\n\t\treturn true;\n\t}\n\telse if (horaDate < '06:30') {\n\t\t// console.log('2');\n\t\treturn true;\n\t} else if (horaDate > '11:30' && horaDate < '13:30') {\n\t\t// console.log('3');\t\t\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction mostrarAlerta(a, tipo, dato) {\n\t\n\tborrarMensaje(dato);\n\n\tif (tipo != 'retirar') {\n\t\n\t\tconst alerta = document.createElement('P');\n\t\n\t\talerta.textContent = a;\n\t\talerta.classList.add(`alerta`);\n\t\talerta.classList.add(`alerta-${dato}`);\n\t\n\t\tif ( tipo === 'error') {\n\t\t\talerta.classList.add('error');\n\t\t}\n\n\t\tconst formulario = document.querySelector(`.${dato}`);\n\n\t\t// const formulario = document.querySelector('.formulario');\n\t\tformulario.appendChild(alerta);\n\t}\n}\n\nfunction borrarMensaje(dato) {\n\tconst alertaP = document.querySelector(`.alerta-${dato}`);\n\n\tif(alertaP) {\n\t\talertaP.remove();\n\t}\n}\n\nfunction mostrarResumen() {\n\t// Destructuring\n\tconst { nombre, fecha, hora, servicios } = cita;\n\n\t// Selecionar resumen\n\tconst resumenDiv = document.querySelector('#parte-3');\n\t\n\t// Limpiar el Html\n\t// resumenDiv.innerHTML = ''\n\tconsole.log(resumenDiv);\n\twhile( resumenDiv.firstChild) {\n\t\tresumenDiv.removeChild( resumenDiv.firstChild );\n\t}\n\n\tif (Object.values(cita).includes('')) {\n\t\tconst noServicio = document.createElement('P');\n\n\t\tnoServicio.textContent = 'Faltan datos por digitar';\n\n\t\tnoServicio.classList.add('invalidar-cita');\n\t\tnoServicio.classList.add('texto_centrado');\n\n\t\t// agregar a resumen el Div\n\t\tresumenDiv.appendChild(noServicio);\n\n\t\treturn;\n\t}\n\n\t// Validacion de objeto\n\tconst nombreCita = document.createElement('P');\n\tnombreCita.innerHTML = `<span>Nombre: </span> ${nombre}`;\n\n\tresumenDiv.appendChild(nombreCita);\n\n\tconst fechaCita = document.createElement('P');\n\tfechaCita.innerHTML = `<span>Fecha: </span> ${fecha}`;\n\n\tresumenDiv.appendChild(fechaCita);\n\n\tconst horaCita = document.createElement('P');\n\thoraCita.innerHTML = `<span>Hora:</span> ${hora}`;\n\n\tresumenDiv.appendChild(horaCita);\n\n\t// Iterar sobre los servicios\n\tservicios.forEach( servicio => {\n\t\tconst conServicio =document.createElement('DIV');\n\t\tconServicio.classList.add('contenedor-servicio');\n\n\t\tconst textoServicio = document.createElement('P');\n\t\ttextoServicio.textContent = servicio.nombre;\n\n\t\tconsole.log(textoServicio);\n\t});\n}\n\nfunction paginaSig() {\n\t// console.log('siguiente');\n\tconst siguiente = document.querySelector('#despues');\n\tsiguiente.addEventListener('click', () => {\n\t\tif (pagina<3){\n\t\t\t// llamada a la funvion de mostrar secciones\n\t\t\tfunMostrar(pagina+1);\n\t\t}\n\t\t// console.log(pagina);\n\t});\n}\n\nfunction paginaAnt() {\n\t// console.log('anterior');\n\tconst antes = document.querySelector('#antes');\n\tantes.addEventListener('click', () => {\n\t\tif (pagina>1){\n\t\t\t// llamada a la funvion de mostrar secciones\n\t\t\tfunMostrar(pagina-1);\n\t\t}\n\t\t// console.log(pagina);\n\t});\n}\n\nfunction mostrarSeccion() {\n\tconst seccionActual = document.querySelector(`#parte-${pagina}`);\n\tseccionActual.classList.add('mostrar-seccion');\n\n\t// Resaltar boton\n\tconst tab = document.querySelector(`[data-paso=\"${pagina}\"]`);\n\ttab.classList.add('actual');\n}\n\nfunction cambiarSeccion() {\n\tconst enlaces = document.querySelectorAll('.tabs button');\n\n\tenlaces.forEach( enlace => {\n\t\tenlace.addEventListener('click', e => {\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\t// llamada a la funvion de mostrar secciones\n\t\t\tfunMostrar(parseInt(e.target.dataset.paso));\n\t\t});\n\t});\n}\n\nfunction funMostrar(e) {\n\n\t// Eliminar el tab anterior\n\tlet tab = document.querySelector(`[data-paso=\"${pagina}\"]`);\n\ttab.classList.remove('actual');\n\n\t// Denir que boton se a clickeado\n\tpagina = e;\n\n\t// Quitar Mostrar seccion\n\tdocument.querySelector('.mostrar-seccion').classList.remove('mostrar-seccion');\n\n\t// Agregar mostrar-seccion en la pocision del click\n\tconst seccion =document.querySelector(`#parte-${pagina}`);\n\tseccion.classList.add('mostrar-seccion');\n\n\t// Resaltar boton\n\ttab = document.querySelector(`[data-paso=\"${pagina}\"]`);\n\ttab.classList.add('actual');\n\n\tOcultar();\n}\n\nfunction Ocultar() {\n\tconst paginaSiguiente = document.querySelector('#despues');\n    const paginaAnterior = document.querySelector('#antes');\n\n    if(pagina == 1) {\n        paginaAnterior.classList.add('ocultar');\n    } else if (pagina == 3) {\n        paginaSiguiente.classList.add('ocultar');\n        paginaAnterior.classList.remove('ocultar');\n\n        mostrarResumen(); // Estamos en la página 3, carga el resumen de la cita\n    } else {\n        paginaAnterior.classList.remove('ocultar');\n        paginaSiguiente.classList.remove('ocultar');\n    }\n}\n\n\nasync function mostrarServicios() {\n\ttry {\n\t\tconst resultado = await fetch('./servicios.json');\n\t\tconst db = await resultado.json();\n\t\tlet {servicios} = db;\n\t\t// console.log(servicios);\n\n\t\tservicios.forEach( servicio => {\n\t\t\tconst { id, nombre, precio } =servicio;\n\n\t\t\t//DOM Scripting\n\t\t\tconst nombreServicio = document.createElement('P');\n\t\t\tnombreServicio.textContent = nombre;\n\t\t\tnombreServicio.classList.add('nombre-servicio');\n\t\t\t// console.log(nombreServicio);\n\n\t\t\t//Generar el precio del servicio\n\t\t\tconst precioServicio = document.createElement('P');\n\t\t\tprecioServicio.textContent = `$ ${precio}`;\n\t\t\tprecioServicio.classList.add('precio-servicio');\n\n\t\t\t//Genrar div contenedor de servicio\n\t\t\tconst servicioDiv = document.createElement('DIV');\n\t\t\tservicioDiv.classList.add('servicio');\n\t\t\tservicioDiv.id = id;\n\n\t\t\t// Selecciona un sevicio para la cita\n\t\t\tservicioDiv.onclick = seleccionarServicio;\n\n\t\t\t//inyectar precio y nombre al div de servicio\n\t\t\tservicioDiv.appendChild(nombreServicio);\n\t\t\tservicioDiv.appendChild(precioServicio);\n\n\t\t\t// Inyectarlo en el HTML\n\t\t\tdocument.querySelector('#servicios').appendChild(servicioDiv);\n\t\t\t// console.log(servicioDiv);\n\t\t})\n\t} catch (error) {\n\t\t// statements\n\t\tconsole.log(error);\n\t}\n}\n\nfunction seleccionarServicio(e) {\n\t// console.log('hola');\n\tlet elemento;\n\t\n\t// Forzar que el elemento al cual le demos click sea el DIV\n\tif (e.target.tagName == 'P') {\n\t\telemento = e.target.parentElement;\n\t\t// console.log('click en el P');\n\t} else {\n\t\telemento = e.target;\n\t\t// console.log('click en el DIV');\n\t}\n\t\n\t// Cambiar de color los elementos selecionados\n\tif (elemento.classList.contains('seleccionado')) {\n\t\telemento.classList.remove('seleccionado');\n\t\teliminarServicio(elemento);\n\t} else {\n\t\telemento.classList.add('seleccionado');\n\t\tagrerarServicio(elemento);\n\t}\n}\n\nfunction eliminarServicio(elemento){\n\tconst valor = parseInt( elemento.id);\n\tconst { servicios } = cita;\n\tcita.servicios = servicios.filter( servicio => servicio.id !== valor);\n\t// console.log(cita);\n}\n\nfunction agrerarServicio(elemento){\n\t\n\tconst servicioObj = {\n\t\tid: parseInt( elemento.id),\n\t\tnombre: elemento.firstElementChild.textContent,\n\t\tprecio: elemento.firstElementChild.nextElementSibling.textContent\n\t}\n\n\tconst { servicios } = cita;\n\n\tcita.servicios = [...servicios, servicioObj];\n\n\t// console.log(cita);\n}\n\nfunction tamañoPagina() {\n\twindow.addEventListener(\"resize\", function(){\n\t    // tu código aquí\n\t    // console.log('La pantalla ha cambiado de tamaño');\n\t    var ancho = screen.width;\n \t\t// var alto = window.height();\n \t\t// console.log(ancho);\n\t});\n}"]}