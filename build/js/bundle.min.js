let pagina=1;const cita={nombre:"",fecha:"",hora:"",servicios:[]};function iniciarApp(){mostrarServicios(),tamañoPagina(),mostrarSeccion(),cambiarSeccion(),paginaSig(),paginaAnt(),Ocultar(),mostrarResumen(),nombreCita(),fechaCita(),horaCita()}function nombreCita(){const e=document.querySelector("#nombre");e.addEventListener("input",e=>{mostrarAlerta("","retirar","Pnombre")}),e.addEventListener("change",e=>{const t=e.target.value.trim();""===t||t.length<5?mostrarAlerta("Nombre no valido","error","Pnombre"):cita.nombre=t})}function fechaCita(){document.querySelector("#fecha").addEventListener("change",e=>{const t=e.target.value;borrarMensaje("Pdate");const a=new Date;let n=a.getFullYear()+"-";a.getMonth()+1<10&&(n+="0"),n+=a.getMonth()+1+"-",a.getDate()<10&&(n+="0"),n=n+""+a.getDate(),n>=t?mostrarAlerta("La fecha ya vencio","error","Pdate"):cita.fecha=t})}function horaCita(){document.querySelector("#Hora").addEventListener("change",e=>{const t=e.target.value;borrarMensaje("Phora"),horario(t)?mostrarAlerta("Hora no valida","error","Phora"):cita.hora=t})}function horario(e){return e>"19:30"||(e<"06:30"||e>"11:30"&&e<"13:30")}function mostrarAlerta(e,t,a){if(borrarMensaje(a),"retirar"!=t){const n=document.createElement("P");n.textContent=e,n.classList.add("alerta"),n.classList.add("alerta-"+a),"error"===t&&n.classList.add("error");document.querySelector("."+a).appendChild(n)}}function borrarMensaje(e){const t=document.querySelector(".alerta-"+e);t&&t.remove()}function mostrarResumen(){const{nombre:e,fecha:t,hora:a,servicios:n}=cita,r=document.querySelector("#parte-3");for(console.log(r);r.firstChild;)r.removeChild(r.firstChild);if(Object.values(cita).includes("")){const e=document.createElement("P");return e.textContent="Faltan datos por digitar",e.classList.add("invalidar-cita"),e.classList.add("texto_centrado"),void r.appendChild(e)}const o=document.createElement("P");o.innerHTML="<span>Nombre: </span> "+e,r.appendChild(o);const c=document.createElement("P");c.innerHTML="<span>Fecha: </span> "+t,r.appendChild(c);const i=document.createElement("P");i.innerHTML="<span>Hora:</span> "+a,r.appendChild(i),n.forEach(e=>{document.createElement("DIV").classList.add("contenedor-servicio");const t=document.createElement("P");t.textContent=e.nombre,console.log(t)})}function paginaSig(){document.querySelector("#despues").addEventListener("click",()=>{pagina<3&&funMostrar(pagina+1)})}function paginaAnt(){document.querySelector("#antes").addEventListener("click",()=>{pagina>1&&funMostrar(pagina-1)})}function mostrarSeccion(){document.querySelector("#parte-"+pagina).classList.add("mostrar-seccion");document.querySelector(`[data-paso="${pagina}"]`).classList.add("actual")}function cambiarSeccion(){document.querySelectorAll(".tabs button").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),funMostrar(parseInt(e.target.dataset.paso))})})}function funMostrar(e){let t=document.querySelector(`[data-paso="${pagina}"]`);t.classList.remove("actual"),pagina=e,document.querySelector(".mostrar-seccion").classList.remove("mostrar-seccion");document.querySelector("#parte-"+pagina).classList.add("mostrar-seccion"),t=document.querySelector(`[data-paso="${pagina}"]`),t.classList.add("actual"),Ocultar()}function Ocultar(){const e=document.querySelector("#despues"),t=document.querySelector("#antes");1==pagina?t.classList.add("ocultar"):3==pagina?(e.classList.add("ocultar"),t.classList.remove("ocultar"),mostrarResumen()):(t.classList.remove("ocultar"),e.classList.remove("ocultar"))}async function mostrarServicios(){try{const e=await fetch("./servicios.json"),t=await e.json();let{servicios:a}=t;a.forEach(e=>{const{id:t,nombre:a,precio:n}=e,r=document.createElement("P");r.textContent=a,r.classList.add("nombre-servicio");const o=document.createElement("P");o.textContent="$ "+n,o.classList.add("precio-servicio");const c=document.createElement("DIV");c.classList.add("servicio"),c.id=t,c.onclick=seleccionarServicio,c.appendChild(r),c.appendChild(o),document.querySelector("#servicios").appendChild(c)})}catch(e){console.log(e)}}function seleccionarServicio(e){let t;t="P"==e.target.tagName?e.target.parentElement:e.target,t.classList.contains("seleccionado")?(t.classList.remove("seleccionado"),eliminarServicio(t)):(t.classList.add("seleccionado"),agrerarServicio(t))}function eliminarServicio(e){const t=parseInt(e.id),{servicios:a}=cita;cita.servicios=a.filter(e=>e.id!==t)}function agrerarServicio(e){const t={id:parseInt(e.id),nombre:e.firstElementChild.textContent,precio:e.firstElementChild.nextElementSibling.textContent},{servicios:a}=cita;cita.servicios=[...a,t]}function tamañoPagina(){window.addEventListener("resize",(function(){screen.width}))}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()}));
//# sourceMappingURL=bundle.js.map
